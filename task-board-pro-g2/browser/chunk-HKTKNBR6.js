import{h as N}from"./chunk-DCTHV7SK.js";import{Da as D,Ea as v,Fa as x,Ga as S,Ha as n,I as V,Ia as a,Ja as b,Ka as y,La as d,Ma as k,N as j,Na as F,Oa as M,Pa as R,Qa as E,Ra as o,Sa as _,T as m,U as p,Ua as A,Va as H,a as w,b as I,h as P,la as l,qa as $,ta as h,wa as f}from"./chunk-MZSNZM6K.js";var g=class i{tasks=[];lastId=3;taskSubject=new P(this.tasks);tasks$=this.taskSubject.asObservable();addTask(t){if(!t)return;let e={id:this.lastId++,title:t,completed:!1};this.tasks=[...this.tasks,e],this.taskSubject.next(this.tasks)}deleteTask(t){this.tasks=this.tasks.filter(e=>e.id!==t),this.taskSubject.next(this.tasks)}taskCompleted(t){this.tasks=this.tasks.map(e=>e.id===t?I(w({},e),{completed:!e.completed}):e),this.taskSubject.next(this.tasks)}getTasks(){return this.taskSubject.value}clearTasks(){this.taskSubject.next([]),this.lastId=1}static \u0275fac=function(e){return new(e||i)};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})};var T=class i{title="Test";completed=!1;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-task-highlight"]],inputs:{title:"title",completed:"completed"},decls:5,vars:1,consts:[[1,"task-highlight"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"h3"),o(2,"T\xE2che mise en avant"),a(),n(3,"p"),o(4),a()()),e&2&&(l(4),_(r.title))},encapsulation:2,changeDetection:0})};var q=["highlightContainer"],O=(i,t)=>t.id;function K(i,t){if(i&1){let e=y();n(0,"li"),o(1),a(),n(2,"button",6),d("click",function(){let s=m(e).$implicit,c=k(2);return p(c.highlight(s))}),o(3," Mettre en avant "),a(),n(4,"button",7),d("click",function(){let s=m(e).$implicit,c=k(2);return p(c.deleteTask(s.id))}),o(5," Supprimer "),a(),n(6,"button",6),d("click",function(){let s=m(e).$implicit,c=k(2);return p(c.taskCompleted(s))}),o(7," Termin\xE9 "),a()}if(i&2){let e=t.$implicit;l(),_(e.title)}}function L(i,t){if(i&1&&(n(0,"li"),o(1),a()),i&2){let e=k().$implicit;D("completed",e.completed),l(),_(e.title)}}function U(i,t){if(i&1&&f(0,L,2,3,"li",8),i&2){let e=t.$implicit;v(e.completed?0:-1)}}function z(i,t){if(i&1&&(n(0,"ul",5),x(1,K,8,1,null,null,O),a(),n(3,"h3"),o(4,"T\xE2ches termin\xE9es"),a(),n(5,"ul",5),x(6,U,1,1,null,null,O),a()),i&2){let e=t;l(),S(e),l(5),S(e)}}function G(i,t){i&1&&(n(0,"p"),o(1,"Chargement des t\xE2ches..."),a())}var C=class i{count=0;intervalId;taskService=j(g);tasks$=this.taskService.tasks$;addTask(t){t.trim()&&this.taskService.addTask(t)}deleteTask(t){this.taskService.deleteTask(t)}taskCompleted(t){this.taskService.taskCompleted(t.id)}container;highlight(t){this.container.clear();let e=this.container.createComponent(T);e.instance.title=t.title}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-tasks-page"]],viewQuery:function(e,r){if(e&1&&F(q,5,$),e&2){let s;M(s=R())&&(r.container=s.first)}},decls:15,vars:3,consts:[["taskInput",""],["highlightContainer",""],[1,"task-actions"],["type","text","placeholder","Titre de la t\xE2che",1,"input-text",3,"keyup.enter"],[1,"btn-primary",3,"click"],[1,"task-list"],["type","button",1,"btn-primary",3,"click"],["type","button",1,"btn-danger",3,"click"],[3,"completed"]],template:function(e,r){if(e&1){let s=y();n(0,"h2"),o(1,"Liste de t\xE2ches"),a(),f(2,z,8,0),A(3,"async"),f(4,G,2,0,"p"),b(5,"hr"),n(6,"h3"),o(7,"Actions"),a(),n(8,"div",2)(9,"input",3,0),d("keyup.enter",function(){m(s);let u=E(10);return r.addTask(u.value),p(u.value="")}),a(),n(11,"button",4),d("click",function(){m(s);let u=E(10);return r.addTask(u.value),p(u.value="")}),o(12," Ajouter une t\xE2che "),a()(),b(13,"div",null,1)}if(e&2){let s;l(2),v((s=H(3,1,r.tasks$))?2:4,s)}},dependencies:[N],styles:["hr[_ngcontent-%COMP%]{margin:1.5rem 0}"],changeDetection:0})};var le=[{path:"",component:C}];export{le as TASKS_ROUTES};
